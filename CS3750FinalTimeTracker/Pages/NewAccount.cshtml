@page
@model CS3750FinalTimeTracker.Pages.NewAccountModel


<form method="post" class="text-center" asp-action="Tracker" enctype="multipart/form-data">
    <div class="container">
        <div class="row px-2 mx-2 backgroundWhite border">

            <div asp-validation-summary="ModelOnly" class="text-danger">
            </div>

            <div class="col-12 px-3 mt-3" style="border-bottom:1px solid #325d88">
                <h2 class="text-dark">Create Account</h2>
            </div>

            <div class="col-8 pt-3">
                <div class="form-group row">
                    <div class="col-3">
                        <label asp-for="UserObj.User.userName"></label>
                    </div>
                    <div class="col-9">
                        <input class="form-control" asp-for="UserObj.User.userName" />
                        <span class="text-danger" asp-validation-for="UserObj.User.userName"></span>
                    </div>
                </div>
                @if (Model.UserObj.User.Id != 0)
                {
                    <input type="hidden" asp-for="UserObj.User.Id" />
                }

                <div class="form-group row">
                    <div class="col-3">
                        <label asp-for="UserObj.User.password"></label>
                    </div>
                    <div class="col-9">
                        <input class="form-control" asp-for="UserObj.User.password" />
                        <span class="text-danger" asp-validation-for="UserObj.User.password"></span>
                    </div>
                </div>

                @*<div class="form-group row">
                    <div class="col-3">
                        <label asp-for="UserObj.User.Group"></label>
                    </div>
                    <div class="col-9">
                        <input class="form-control" asp-for="UserObj.User.Group" />
                        <span class="text-danger" asp-validation-for="UserObj.User.Group"></span>
                    </div>
                </div>*@

                <div class="form-group row">
                    <div class="col-3">
                        <label asp-for="UserObj.User.GroupId"></label>
                    </div>
                    <div class="col-9">
                        @Html.DropDownListFor(m => m.UserObj.User.GroupId,
                                     Model.UserObj.GroupList,
                                     "- Please select a group - ",
                                     new { @class = "form-control" })
                        <span class="text-danger" asp-validation-for="UserObj.User.GroupId"></span>
                    </div>
                </div>
            </div>
        </div>

        <div>&nbsp;</div>
        <div>&nbsp;</div>
        <div>&nbsp;</div>

        <div class="row justify-content-between">

            <div class="row">
                <div>
                    <input type="checkbox" id="observerCheckBox" name="observerCheckbox" value="true" onclick="storeCheckboxValue()" />
                </div>
                <div>
                    <h5 class="text-primary">&nbsp;&nbsp; Proceed as an observer</h5>
                </div>
            </div>

            @*<button class="btn-primary btn-block text-uppercase form-control center-screen col-3">
                <a class="nav-link text-white text-center p-1 pb-2" onclick="return validateInput()" asp-area="" asp-page="/Tracker">Submit</a>
            </button>*@

            <div class="col-6">
                <button type="submit" class="btn btn-primary form-control">Submit</button>
            </div>
        </div>

    </div>
</form>

@section Scripts{
    <script src="~/js/tracker.js"></script>

    <script>

        function validateInput() {

            var username = document.getElementById("username").value;
            var password = document.getElementById("password").value;
            var group = document.getElementById("group").value;

            if (username.toString() == '') {
                swal("Error", "Please enter a User Name", "error");
                return false;
            }

            if (password.toString() == '') {
                swal("Error", "Please enter an Password", "error");
                return false;
            }

            if (group.toString() == '') {
                swal("Error", "Please enter a new group name", "error");
                return false;
            }

            return true;
        }

    </script>

}